<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <title>checkout - Nature's Way</title>
        <link rel="shortcut icon" type="image/x-icon" href="img/leaf.png">       
        <meta content="" name="keywords">
        <meta content="" name="description">

        <!-- Google Web Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Raleway:wght@600;800&display=swap" rel="stylesheet"> 

        <!-- Icon Font Stylesheet -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

        <!-- Libraries Stylesheet -->
        <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
        <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">


        <!-- Customized Bootstrap Stylesheet -->
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <!-- Template Stylesheet -->
        <link href="css/style.css" rel="stylesheet">
    </head>

    <body>

        <!-- Spinner Start -->
        <div id="spinner" class="show w-100 vh-100 bg-white position-fixed translate-middle top-50 start-50  d-flex align-items-center justify-content-center">
            <div class="spinner-grow text-primary" role="status"></div>
        </div>
        <!-- Spinner End -->


        <!-- Navbar start -->
        <div class="container-fluid fixed-top">
            <div class="container topbar bg-primary d-none d-lg-block">
                <div class="d-flex justify-content-between">
                    <div class="top-info ps-2">
                        <small class="me-3"><i class="fas fa-map-marker-alt me-2 text-secondary"></i> <a href="#" class="text-white">SUEZ, EGYPT</a></small>
                        <small class="me-3"><i class="fas fa-envelope me-2 text-secondary"></i><a href="#" class="text-white">abdullahelsaied00@gmail.com</a></small>
                    </div>
                    <div class="top-link pe-2">
                        <a href="#" class="text-white"><small class="text-white mx-2">Privacy Policy</small>/</a>
                        <a href="#" class="text-white"><small class="text-white mx-2">Terms of Use</small>/</a>
                        <a href="#" class="text-white"><small class="text-white ms-2">Sales and Refunds</small></a>
                    </div>
                </div>
            </div>
            <div class="container px-0">
                <nav class="navbar navbar-light bg-white navbar-expand-xl">
                    <a href="/" class="navbar-brand"><h1 class="text-primary display-6">Nature's Way</h1></a>
                    <button class="navbar-toggler py-2 px-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                        <span class="fa fa-bars text-primary"></span>
                    </button>
                    <div class="collapse navbar-collapse bg-white" id="navbarCollapse">
                        <div class="navbar-nav mx-auto">
                            <a href="/" class="nav-item nav-link active">Home</a>
                            <a href="/about" class="nav-item nav-link">About</a>
                            <a href="/brand" class="nav-item nav-link">Brand</a>
                            <div class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">pages</a>
                                <div class="dropdown-menu m-0 bg-secondary rounded-0">
                                    <a href="/cart" class="dropdown-item">Cart</a>
                                    <a href="/checkout" class="dropdown-item">Checkout</a>

                                </div>
                            </div>
                        </div>
                        <div class="d-flex m-3 me-0">
                            <button class="btn-search btn border border-secondary btn-md-square rounded-circle bg-white me-4" data-bs-toggle="modal" data-bs-target="#searchModal"><i class="fas fa-search text-primary"></i></button>
                            <a href="/cart" class="position-relative me-4 my-auto">
                                <i class="fa fa-shopping-bag fa-2x"></i>
                            </a>
                            <a href="#" class="my-auto">
                                <i class="fas fa-user fa-2x"></i>
                            </a>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
        <!-- Navbar End -->


        <!-- Modal Search Start -->
        <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-fullscreen">
                <div class="modal-content rounded-0">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Search by keyword</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body d-flex align-items-center">
                        <div class="input-group w-75 mx-auto d-flex">
                            <input type="search" class="form-control p-3" placeholder="keywords" aria-describedby="search-icon-1">
                            <span id="search-icon-1" class="input-group-text p-3"><i class="fa fa-search"></i></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Search End -->


        <!-- Single Page Header start -->
        <div class="container-fluid page-header py-5">
            <h1 class="text-center text-white display-6">Checkout</h1>
            <ol class="breadcrumb justify-content-center mb-0">
                <li class="breadcrumb-item"><a href="/">Home</a></li>
                <li class="breadcrumb-item"><a href="/">Pages</a></li>
                <li class="breadcrumb-item active text-white">Checkout</li>
            </ol>
        </div>
        <!-- Single Page Header End -->


<!-- Checkout Page Start -->
<div class="container-fluid py-5 checkout-bg">
    <div class="container py-5">
        <h1 class="mb-4">Billing Details</h1>
        <form action="/place_order" method="post">
          <div class="row g-5">
              <!-- Billing Information Start -->
              <div class="col-md-12 col-lg-6 col-xl-7">
                  <div class="form-group mb-3">
                      <label for="name" class="form-label">Name<sup>*</sup></label>
                      <input type="text" class="form-control" id="name" name="name" required>
                  </div>
                  <div class="form-group mb-3">
                      <label for="email" class="form-label">Email<sup>*</sup></label>
                      <input type="email" class="form-control" id="email" name="email" required>
                  </div>
                  <div class="form-group mb-3">
                      <label for="address" class="form-label">Address<sup>*</sup></label>
                      <input type="text" class="form-control" id="address" name="address" placeholder="House Number, Street Name" required>
                  </div>
                  <div class="form-group mb-3">
                      <label for="phone" class="form-label">Phone<sup>*</sup></label>
                      <input type="tel" class="form-control" id="phone" name="phone" required>
                  </div>
                  <div class="form-group mb-3">
                      <label for="city" class="form-label">City<sup>*</sup></label>
                      <input type="text" class="form-control" id="city" name="city" required>
                  </div>
                  <div class="form-group mb-3">
                      <textarea name="note" class="form-control" spellcheck="false" cols="30" rows="11" placeholder="Order Notes (Optional)"></textarea>
                  </div>
              </div>
              <!-- Billing Information End -->
      
              <!-- Order Summary Start -->
              <div class="col-md-12 col-lg-6 col-xl-5">
                  <div class="table-responsive">
                      <table class="table table-bordered">
                          <thead class="thead-light">
                              <tr>
                                  <th scope="col">Product Image</th>
                                  <th scope="col">Name</th>
                                  <th scope="col">Price</th>
                                  <th scope="col">Quantity</th>
                                  <th scope="col">Total</th>
                              </tr>
                          </thead>
                          <tbody>
                              <% cart.forEach(function(item) { %>
                              <tr>
                                  <td class="align-middle">
                                      <img src="img/<%= item.image %>" class="img-fluid rounded-circle" style="width: 90px; height: 90px;" alt="">
                                  </td>
                                  <td class="align-middle"><%= item.name %></td>
                                  <td class="align-middle">
                                      <% if (item.sale_price) { %>
                                          LE <%= item.sale_price.toFixed(2) %>
                                      <% } else { %>
                                          LE <%= item.price.toFixed(2) %>
                                      <% } %>
                                  </td>
                                  <td class="align-middle text-center"><%= item.quantity %></td>
                                  <td class="align-middle">LE <%= ((item.sale_price || item.price) * item.quantity).toFixed(2) %></td>
                              </tr>
                              <% }) %>
                              <tr>
                                  <td colspan="4" class="text-right"><strong>Subtotal:</strong></td>
                                  <td>LE <%= total.toFixed(2) %></td>
                              </tr>
                              <tr>
                                  <td colspan="4" class="text-right"><strong>Flat rate:</strong></td>
                                  <td>LE 40</td>
                              </tr>
                              <tr>
                                  <td colspan="4" class="text-right"><strong>Total:</strong></td>
                                  <td>LE <%= total > 1 ? (total + 40) : 0 %> </td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
              </div>
              <!-- Order Summary End -->
          </div>
          <!-- Payment Method Start -->
          <section class="payment-method-section py-5">
              <div class="container">
                  <div class="row">
                      <div class="col-12">
                          <h2 class="section-title mb-4">Payment</h2>
                          <p class="text-muted">Total: LE <%= total > 1 ? (total + 40) : 0 %> </p>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-md-6">
                          <button type="button" class="btn btn-primary btn-lg w-100 mb-3" data-bs-toggle="modal" data-bs-target="#paypalModal">
                              <i class="fab fa-paypal me-2"></i>Pay with PayPal
                          </button>
                          <div class="modal fade" id="paypalModal" tabindex="-1" aria-labelledby="paypalModalLabel" aria-hidden="true">
                              <div class="modal-dialog modal-dialog-centered">
                                  <div class="modal-content">
                                      <div class="modal-header">
                                          <h5 class="modal-title" id="paypalModalLabel">PayPal</h5>
                                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                      </div>
                                      <div class="modal-body">
                                          <p>PayPal is a secure and convenient online payment solution that allows you to make payments without sharing your financial information. When you choose to pay with PayPal, you'll be redirected to the PayPal website to complete your transaction. Your payment information is encrypted and protected by PayPal's advanced security measures.</p>
                                          <p>PayPal offers a variety of benefits, including:</p>
                                          <ul>
                                              <li>Fast and easy checkout process</li>
                                              <li>No need to share your financial information with the merchant</li>
                                              <li>Purchase protection for eligible transactions</li>
                                              <li>Ability to pay with a credit card, debit card, or your PayPal balance</li>
                                          </ul>
                                          <div id="paypal-button-container"></div>
                                      </div>
                                      <div class="modal-footer">
                                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="col-md-6">
                          <button type="button" class="btn btn-secondary btn-lg w-100 mb-3" data-bs-toggle="modal" data-bs-target="#codModal">
                              <i class="fas fa-money-bill-alt me-2"></i>Cash on Delivery
                          </button>
                          <div class="modal fade" id="codModal" tabindex="-1" aria-labelledby="codModalLabel" aria-hidden="true">
                              <div class="modal-dialog modal-dialog-centered">
                                  <div class="modal-content">
                                      <div class="modal-header">
                                          <h5 class="modal-title" id="codModalLabel">Cash on Delivery (COD)</h5>
                                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                      </div>
                                      <div class="modal-body">
                                          <p>Cash on Delivery (COD) is a payment method where you pay for your order in cash when it's delivered to you. This option is convenient for customers who prefer to pay in cash or don't have access to online payment methods.</p>
                                          <p>When you choose the COD option, the delivery person will collect the payment from you upon delivery of your order. This allows you to inspect the item before making the payment.</p>
                                          <p>The benefits of COD include:</p>
                                          <ul>
                                              <li>No need to share your financial information online</li>
                                              <li>Ability to inspect the item before paying</li>
                                              <li>Convenient for customers who prefer to pay in cash</li>
                                          </ul>
                                      </div>
                                      <div class="modal-footer">
                                          <button type="button" class="btn btn-primary" onclick="document.querySelector('form').submit();">Proceed with Cash on Delivery</button>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </section>
          <!-- Payment Method End -->
      
          <script src="https://www.paypal.com/sdk/js?client-id=AcPWR596jINttAYpYcJSMBmXEyukcwe58OzVAMWfpqauXyJKMX381Sp4xSxchJ1UqWv0VZD-eIh6N5Jh&buyer-country=US&currency=USD&components=buttons&enable-funding=venmo" data-sdk-integration-source="developer-studio"></script>
          <script>
              paypal.Buttons({
                  createOrder: function(data, actions) {
                      return actions.order.create({
                          purchase_units: [{
                              amount: {
                                  value: '<%= total %>'
                              }
                          }]
                      });
                  },
                  onApprove: function(data, actions) {
                      return actions.order.capture().then(function(details) {
                          alert('Transaction completed by ' + details.payer.name.given_name + '!');
                      });
                  }
              }).render('#paypal-button-container');
          </script>
      </form>
      
    </div>
</div>
<!-- Checkout Page End -->




    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    <!-- JavaScript Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="https://www.paypal.com/sdk/js?client-id=AcPWR596jINttAYpYcJSMBmXEyukcwe58OzVAMWfpqauXyJKMX381Sp4xSxchJ1UqWv0VZD-eIh6N5Jh&buyer-country=US&currency=USD&components=buttons&enable-funding=venmo" data-sdk-integration-source="developer-studio"></script>
    <script>
        paypal.Buttons().render('#paypal-button-container');
    </script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
    </body>

</html>